"use strict";function event_onload(){if(document.getElementById("nucleotide").checked!==!0){var a=Object.keys(matrixlist);for(var b in a)document.getElementById("choice_matrix").options[b]=new Option(a[b],a[b])}else{for(;document.getElementById("choice_matrix").firstChild;)document.getElementById("choice_matrix").removeChild(document.getElementById("choice_matrix").firstChild);var c=Object.keys(matrixEDNA);for(var b in c)document.getElementById("choice_matrix").options[b]=new Option(c[b],c[b])}for(var d=document.getElementById("sequence1"),e=document.getElementById("sequence2"),f=document.getElementById("gap");f.firstChild;)f.removeChild(f.firstChild);if(document.getElementById("multiple").checked!==!0){var g=document.createElement("input");g.setAttribute("type","number"),g.setAttribute("min","0"),g.setAttribute("id","enter_gap_penalty"),g.setAttribute("value","0"),g.setAttribute("size",2),f.appendChild(g)}else for(var h=Math.max(d.value.length,e.value.length),i=0;h>=i;i++)if(f.hasChildNodes===!0){var g=document.createElement("input");g.insertBefore(g,f.lastChild),g.setAttribute("type","number"),g.setAttribute("min","0"),g.setAttribute("id","enter_gap_penalty"+i),g.setAttribute("value","0"),g.setAttribute("style","width:2em")}else{var g=document.createElement("input");f.appendChild(g),g.setAttribute("type","number"),g.setAttribute("min","0"),g.setAttribute("id","enter_gap_penalty"+i),g.setAttribute("value","0"),g.setAttribute("style","width:2em")}}function choose_matrix(){if(document.getElementById("protein").checked===!0){for(;document.getElementById("choice_matrix").firstChild;)document.getElementById("choice_matrix").removeChild(document.getElementById("choice_matrix").firstChild);var a=Object.keys(matrixlist);for(var b in a)document.getElementById("choice_matrix").options[b]=new Option(a[b],a[b])}else if(document.getElementById("nucleotide").checked===!0){for(;document.getElementById("choice_matrix").firstChild;)document.getElementById("choice_matrix").removeChild(document.getElementById("choice_matrix").firstChild);var c=Object.keys(matrixEDNA);for(var b in c)document.getElementById("choice_matrix").options[b]=new Option(c[b],c[b])}}function choose_gap_penalty(){for(var a=document.getElementById("sequence1").value,b=document.getElementById("sequence2").value,c=document.getElementById("gap");c.firstChild;)c.removeChild(c.firstChild);if(document.getElementById("single").checked===!0){var d=document.createElement("input");d.setAttribute("type","number"),d.setAttribute("min","0"),d.setAttribute("id","enter_gap_penalty"),d.setAttribute("value","0"),d.setAttribute("size",2),c.appendChild(d)}if(document.getElementById("multiple").checked===!0)for(var e=Math.max(a.length,b.length),f=0;e>=f;f++)if(c.hasChildNodes===!0){var d=document.createElement("input");d.insertBefore(d,c.lastChild),d.setAttribute("type","number"),d.setAttribute("min","0"),d.setAttribute("id","enter_gap_penalty"+f),d.setAttribute("value","0"),d.setAttribute("style","width:2em")}else{var d=document.createElement("input");c.appendChild(d),d.setAttribute("type","number"),d.setAttribute("min","0"),d.setAttribute("id","enter_gap_penalty"+f),d.setAttribute("value","0"),d.setAttribute("style","width:2em")}}function get_value(){for(var a,b,c=[],d=document.getElementsByName("algorithm"),e=0;e<d.length;e++)d[e].checked===!0&&(a=d[e].value);for(var f=document.getElementsByName("type_seq"),g=0;g<f.length;g++)f[g].checked===!0&&(b=f[g].value);var h=document.getElementById("sequence1").value.toUpperCase(),i=document.getElementById("sequence2").value.toUpperCase(),j=document.getElementById("choice_matrix").options[document.getElementById("choice_matrix").selectedIndex].value;if(document.getElementById("protein").checked===!0)var j=matrixlist[j];else var j=matrixEDNA[j];if(document.getElementById("single").checked===!0){var k=document.getElementById("enter_gap_penalty").value,k=-Math.abs(parseInt(k,10));algorithm(h,i,j,b,a,k)}else if(document.getElementById("multiple").checked===!0){var l=h.length;i.length>l&&(l=i.length);for(var e=0;l+1>e;e++){var m=document.getElementById("enter_gap_penalty"+e).value;m=Math.abs(parseInt(m,10)),c.push(-m)}algorithm(h,i,j,b,a,c)}}function verif(){return verif_check_algo()===!0&&verif_check_type_seq()===!0&&check_content_seq()===!0&&verif_choice_gap()===!0?!0:(alert("complete the form before submit it"),!1)}function verif_check_algo(){for(var a=!1,b=document.getElementsByName("algorithm"),c=0;c<b.length;c++)if(b[c].checked===!0){var d=b[c].value;""!==d&&(a=!0)}return a===!1&&alert("Choose an algorithm to obtain a result."),a}function verif_check_type_seq(){for(var a,b=!1,c=document.getElementsByName("type_seq"),d=0;d<c.length;d++)c[d].checked===!0&&(a=c[d].value,b=!0);return b===!1&&alert("Choose a sequence type."),b}function check_content_seq(){for(var a,b=!1,c=document.getElementById("sequence1").value.toUpperCase(),d=document.getElementById("sequence2").value.toUpperCase(),e=document.getElementsByName("type_seq"),f=0;f<e.length;f++)e[f].checked===!0&&(a=e[f].value);return 2<=d.length&&d.length<=15&&2<=c.length<=15&&c.length<=15?"protein"==a&&/^[ARNDCQEGHILKMFPSTWYVBZX]+$/.test(d,c)||"nucleotide"==a&&/^[ATGCSWRYKMBVHDNU]+$/.test(d,c)?b=!0:alert("the content of the sequence did not match the sequence type you have checked"):alert("the sequence is too small or too long for the application"),b}function verif_choice_gap(){for(var a,b=!1,c=!1,d=!1,e=!1,f=document.getElementsByName("choose_gap_penalty"),g=!1,h=0;h<f.length;h++)f[h].checked===!0&&(a=f[h].value,c=!0);if("single"==a){var i=document.getElementById("enter_gap_penalty").value,i=-Math.abs(parseInt(i,10));isNaN(i)===!1&&(d=!0)}if("multiple"==a){var j=document.getElementById("sequence1").value,k=document.getElementById("sequence2").value,l=[],m=j.length;k.length>m&&(m=k.length);for(var n=0;m>n;n++){var o=document.getElementById("enter_gap_penalty0").value,p=document.getElementById("enter_gap_penalty"+n).value;p=parseInt(p,10),o=parseInt(o,10),p==o&&(g=!0),p=Math.abs(parseInt(p,10)),isNaN(Math.abs(parseInt(p,10)))===!1&&(e=!0),l.push(-p)}g===!1&&alert("if you choose similar gap penalty, choose single gap penalty")}return c===!1&&alert("choose single gap penalty or multiple gap penalty"),("single"==a&&d===!1||"multiple"==a&&e===!1)&&alert("you have to enter a number"),d!==!0&&e!==!0||c!==!0||(b=!0),b}function init_final(){verif()===!0&&(get_value(),display())}function init_next(){verif()===!0&&(get_value(),next())}function init_prev(){verif()===!0&&(get_value(),prev())}function init_fast(){verif()===!0&&(get_value(),fastnext())}function algorithm(a,b,c,d,e,f){this.seq1=a,this.seq2=b,this.len1=this.seq1.length,this.len2=this.seq2.length,this.lenmax=Math.max(this.len1,this.len2),this.lenmin=Math.min(this.len1,this.len2),this.matrix=c,this.type_seq=d,this.gap=f,this.place=0,this.s1=[],this.s2=[],this.letters=[],this.matseq=[],this.matscore=[],this.matpath=[],this.matpatharrows=[],this.matpatharrowsalign=[],this.matsumdia=[],this.matsumhor=[],this.matsumvert=[],this.matsumtot=[],this.i,this.j,this.size1=len1+1,this.size2=len2+2,this.algo=e,this.listalign=[],this.matseq[0]="-",s1=this.seq1.split("");for(var g=0;g<=this.len1;g++)this.matseq.push(s1[g]);this.matseq[this.len1+1]="-",s2=this.seq2.split("");for(var h=0;h<this.len2;h++)this.matseq.push(s2[h]);if(isNaN(this.gap)===!1){for(var i=this.gap,f=[],j=0;j<size1;j++)f.push(i);this.gap=f}if(this.gap2=f,len1!=len2&&len2<len1){gap2=[];for(var k=0;k<this.lenmin+1;k++)gap2.push(f[k]);this.gap2=gap2}for(k=this.len1+1;k<=this.len1+this.len2+1;k++)for(j=0;j<=this.len1;j++)this.place<this.len1+1?this.gapplace=this.gap[place]:(this.gapplace=this.gap[this.place%(this.len1+1)],this.gapplace2=this.gap2[Math.floor(this.place/(this.len1+1))]),"protein"==this.type_seq?this.letters=["A","R","N","D","C","Q","E","G","H","I","L","K","M","F","P","S","T","W","Y","V","B","Z","X","*"]:"EDNAFULL"==this.matrix?this.letters=["A","T","G","C","S","W","R","Y","K","M","B","V","H","D","N","U"]:this.letters=["A","B","C","D","G","H","K","M","N","R","S","T","U","V","W","X","Y"],"smith_waterman"==this.algo?smithwaterman.prototype.score(this.matrix,this.matscore,this.matpath,this.matsumdia,this.matsumvert,this.matsumhor,this.matsumtot,this.matseq[k],this.matseq[j],this.lenmax,this.place,this.gapplace,this.gapplace2,this.letters):needlemanwunsch.prototype.score(this.matrix,this.matscore,this.matpath,this.matsumdia,this.matsumvert,this.matsumhor,this.matsumtot,this.matseq[k],this.matseq[j],this.lenmax,this.place,this.gapplace,this.gapplace2,this.letters),this.place++;for(path in matpath)0===matpath[path]?(matpatharrows[path]="",matpatharrowsalign[path]=""):1===matpath[path]?(matpatharrows[path]='<object type="image/svg+xml" data="../img/hori.svg" width="25 px" height="25"> error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/horir.svg" width="25 px" height="25"> error </object>'):2===matpath[path]?(matpatharrows[path]='<object type="image/svg+xml" data="../img/diag.svg" width="25 px" height="25 px">  error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/diagr.svg" width="25 px" height="25 px">  error </object>'):3===matpath[path]?(matpatharrows[path]='<object type="image/svg+xml" data="../img/vert.svg" width="25 px" height=×"25 px">  error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/vertr.svg" width="25 px" height=×"25 px">  error </object>'):4===matpath[path]?(matpatharrows[path]='<object type="image/svg+xml" data="../img/bihv.svg" width="25 px" height="25 px">  error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/bihvr.svg" width="25 px" height="25 px">  error </object>'):5===matpath[path]?(matpatharrows[path]='<object type="image/svg+xml" data="../img/bihd.svg" width="25 px" height="25 px">  error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/bihdr.svg" width="25 px" height="25 px">  error </object>'):6===matpath[path]?(matpatharrows[path]='<object type="image/svg+xml" data="../img/bidv.svg" width="25 px" height="25 px">  error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/bidvr.svg" width="25 px" height="25 px">  error </object>'):7===matpath[path]&&(matpatharrows[path]='<object type="image/svg+xml" data="../img/tri.svg" width="25 px" height="25 px">  error </object>',matpatharrowsalign[path]='<object type="image/svg+xml" data="../img/trir.svg" width="25 px" height="25 px">  error </object>');if("smith_waterman"==this.algo)var l=smithwaterman.prototype.alignment(this.matpath,this.matscore,this.matsumtot,this.s1,this.s2,this.len1,this.lenmax);else var l=needlemanwunsch.prototype.alignment(this.matpath,this.matscore,this.matsumtot,this.s1,this.s2,this.len1,this.lenmax);if(l.length>2){var m=1;document.getElementById("alignment").innerHTML="";for(var n=0;n<=l.length-1;n+=2)document.getElementById("alignment").innerHTML+='<div id="allalign"><h3>Alignment '+m+"</h3><br/>"+l[n]+"<br/>"+l[n+1]+"<br/></div>",m++}else document.getElementById("alignment").innerHTML="<h3>Alignment</h3><br>"+l[0]+"<br>"+l[1]}function needlemanwunsch(){for(key in algorithm.prototype)needlemanwunsch.prototype[key]=algorithm.prototype[key]}function smithwaterman(){for(key in algorithm.prototype)smithwaterman.prototype[key]=algorithm.prototype[key]}function next(){nbValuesToDisplay++,nbValuesToDisplay>=matscore.length&&(nbValuesToDisplay=matscore.length,nbValuesAlignToDisplay++,nbValuesAlignToDisplay>=listalign.length&&(nbValuesAlignToDisplay=listalign.length)),launch_nstep(nbValuesToDisplay),launch_nstep_align(nbValuesAlignToDisplay)}function prev(){nbValuesAlignToDisplay--,0>nbValuesAlignToDisplay&&(nbValuesAlignToDisplay=0,nbValuesToDisplay--),launch_nstep(nbValuesToDisplay),launch_nstep_align(nbValuesAlignToDisplay)}function fastnext(){nbValuesToDisplay<=matscore.length&&(nbValuesToDisplay=matscore.length),nbValuesAlignToDisplay<=listalign.length&&0!==nbValuesAlignToDisplay&&(nbValuesAlignToDisplay=listalign.length),launch_nstep(nbValuesToDisplay),launch_nstep_align(nbValuesAlignToDisplay),nbValuesAlignToDisplay++}function fastpreview(){0!==nbValuesAlignToDisplay?(nbValuesAlignToDisplay=0,nbValuesToDisplay=matscore.length):nbValuesToDisplay<=matscore.length&&(nbValuesAlignToDisplay=0,nbValuesToDisplay=0),launch_nstep(nbValuesToDisplay),launch_nstep_align(nbValuesAlignToDisplay)}function launch_nstep(a){for(var b=document.getElementById("matrixtime");b.firstChild;)b.removeChild(b.firstChild);for(var c=0;c<=size2-1;c++){b.insertRow(c);for(var d=0;d<=size1;d++)b.rows[c].insertCell(d)}for(var c=0;c<b.rows.length;c++)for(var e=b.rows[c],d=0;d<e.cells.length;d++){var f=e.cells[d];c>=2&&0===d&&(f.innerHTML=s2[c-2]),0===c&&d>=2&&(f.innerHTML=s1[d-2])}for(var g=0,c=1;c<b.rows.length;c++)for(var e=b.rows[c],d=1;d<e.cells.length;d++){var f=e.cells[d];if(g>=1&&a>g){var h,i;1==d?(h=c-1,i=e.cells.length-1):(h=c,i=d-1);var j=b.rows[h].cells[i],k=g-1;j.innerHTML=matpatharrows[k],j.innerHTML+=matsumtot[k]}f.innerHTML=matscore[g],g++,g>a&&(f.style.visibility="hidden"),g==matscore.length&&(f.innerHTML=matpatharrows[matscore.length-1]+" "+matsumtot[matscore.length-1])}if(title=document.getElementById("matrixtime").createCaption(),title.innerHTML="<b>Sum matrix</b>",a>size1)if((a-1)%size1!==0){var l=size1,m=size1+1,n=a-1,o=(a-1)%(len1+1),p=Math.floor((a-1)/(len1+1));explain.innerHTML="Value of M("+p+","+o+") = maximal value between : <br>",explain.innerHTML+="M("+(p-1)+","+(o-1)+") + S("+p+","+o+") = "+matsumtot[n-m]+" + "+matscore[n]+" = <b>"+matsumdia[n]+"</b><br>",explain.innerHTML+="M("+p+","+(o-1)+") + gap = "+matsumtot[n-1]+"+"+gap2[p]+" = <b>"+matsumhor[n]+"</b><br>",explain.innerHTML+="M("+(p-1)+","+o+") + gap = "+matsumtot[n-l]+"+"+gap[o]+"= <b>"+matsumvert[n]+"</b><br>",explain.innerHTML+="Maximum value of the three : <b>"+matsumtot[n]+"</b><br>",explain.innerHTML+="Corresponding path : "+matpatharrows[n]+"<br>"}else explain.innerHTML=""}function launch_nstep_align(a){nbValuesAlignToDisplay>=1&&(title.innerHTML="<b>Alignment matrix</b>",explain.innerHTML=" ");for(var b=document.getElementById("matrixtime"),c=1;c<b.rows.length;c++)for(var d=b.rows[c],e=1;e<d.cells.length;e++){d.cells[e]}for(var f=1;a>=f;f++){var g=listalign[f-1];console.log(g),g>=listalign[f-2]&&launch_nstep(matscore.length);var h=g%(len1+1)-1+2,i=Math.floor(g/(len1+1)-1+2),j=b.rows[i].cells[h];j.innerHTML=matpatharrowsalign[g]}}function display(){for(matrixsum.childNodes=[];matrixsum.hasChildNodes();)matrixsum.removeChild(matrixsum.childNodes[0]);for(;matrixpath.hasChildNodes();)matrixpath.removeChild(matrixpath.childNodes[0]);for(var a=document.getElementById("matrixsum"),b=0;b<=size2-1;b++){a.insertRow(b);for(var c=0;c<=size1;c++)a.rows[b].insertCell(c)}for(var d=document.getElementById("matrixsum").rows,b=0;b<d.length;b++){for(var e=d[b].cells,c=0;c<e.length;c++){if(b>=2&&0===c)for(var e in s2)matrixsum.rows[b].cells[c].innerHTML=s2[e],b++;if(0===b&&c>=2)for(var f in s1)matrixsum.rows[b].cells[c].innerHTML=s1[f],c++;if(b>=1&&1===c){for(scoring in matscore)matrixsum.rows[b].cells[c].innerHTML=matscore[scoring],c++,c%(size1+1)===0&&(b++,c=1);b=1}}var g=document.getElementById("matrixsum").createCaption();g.innerHTML="<b>Sum matrix</b>"}for(var h=document.getElementById("matrixpath"),b=0;b<=size2-1;b++){h.insertRow(b);for(var c=0;c<=size1;c++)h.rows[b].insertCell(c)}for(var i=document.getElementById("matrixpath").rows,b=0;b<i.length;b++){for(var j=0,e=i[b].cells,c=0;c<e.length;c++){if(b>=2&&0===c)for(var e in s2)matrixpath.rows[b].cells[c].innerHTML=s2[e],b++;if(0===b&&c>=2)for(var f in s1)matrixpath.rows[b].cells[c].innerHTML=s1[f],c++;if(b>=1&&1===c){for(path in matpath)matrixpath.rows[b].cells[c].innerHTML=matpatharrows[j],c++,c%(size1+1)===0&&(b++,c=1),j++;b=1}}var g=document.getElementById("matrixpath").createCaption();g.innerHTML="<b>Path matrix</b>"}}needlemanwunsch.prototype.score=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=k-(j+1),y=k-1,z=k-(j+2);if(0===k)b[k]=l,c[k]=0,p=0,q=0,r=0,d[k]=0,e[k]=0,f[k]=0,g[k]=l;else if(j>=k&&0!==k)b[k]=l+g[k-1],c[k]=1,p=0,q=0,r=0,d[k]=0,e[k]=0,f[k]=0,g[k]=l+g[k-1];else if(k%(j+1)===0)b[k]=m+g[k-(j+1)],c[k]=3,p=0,q=0,r=0,d[k]=0,e[k]=0,f[k]=0,g[k]=m+g[k-(j+1)];else{p=g[x],q=g[y],r=g[z];for(var A in n)h===n[A]&&(v=parseInt(A,10)),i===n[A]&&(w=parseInt(A,10));var B=n.length,C=B*v+w;o=parseInt(a[C],10),b[k]=o,t=r+o,s=p+l,u=q+m,d[k]=t,e[k]=s,f[k]=u;var D=Math.max(s,t,u);g[k]=D,D==u&&D!=s&&D!=t?c[k]=1:D!=u&&D!=s&&D==t?c[k]=2:D!=u&&D==s&&D!=t?c[k]=3:D==u&&D==s&&D!=t?c[k]=4:D==u&&D!=s&&D==t?c[k]=5:D!=u&&D==s&&D==t?c[k]=6:D==u&&D==s&&D==t&&(c[k]=7)}},needlemanwunsch.prototype.alignment=function(a,b,c,d,e,f,g){for(var h,i,j,k=c.length-1,l=[],m=[],n="",o="";;){var p=k%(f+1)-1,q=Math.floor(k/(f+1)-1);if(listalign.push(k),0===c[k]){listalign.pop();break}if(1===a[k])k-=1,l.unshift(String(d[p])),m.unshift("-");else if(2===a[k])k-=g+2,l.unshift(String(d[p])),m.unshift(String(e[q]));else if(3===a[k])k-=g+1,l.unshift("-"),m.unshift(String(e[q]));else if(4===a[k])h=c[k-1],i=c[k-(g+1)],h>i?(k-=1,l.unshift(String(d[p])),m.unshift("-")):(k-=g+1,l.unshift("-"),m.unshift(String(e[q])));else if(5===a[k])h=c[k-1],i=c[k-(g+2)],h>i?(k-=1,l.unshift(String(d[p])),m.unshift("-")):(k-=g+2,l.unshift(String(d[p])),m.unshift(String(e[q])));else if(6===a[k])h=c[k-(g+1)],i=c[k-(g+2)],h>i?(k-=g+1,l.unshift("-"),m.unshift(String(e[q]))):(k-=g+2,l.unshift(String(d[p])),m.unshift(String(e[q])));else if(7===a[k]){h=c[k-1],i=c[k-(g+2)],j=c[k-(g+1)];var r=Math.max(h,i,j);r===i?(k-=g+2,l.unshift(String(d[p])),m.unshift(String(e[q]))):r===j?(k-=g+1,l.unshift("-"),m.unshift(String(e[q]))):(k-=1,l.unshift(String(d[p])),m.unshift("-"))}}for(var s in l)n=n.concat(l[s]);for(var t in m)o=o.concat(m[t]);var u=[n,o];return u},smithwaterman.prototype.score=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=k-(j+1),y=k-1,z=k-(j+2);if(0===k)b[k]=0,c[k]=0,p=0,q=0,r=0,d[k]=0,e[k]=0,f[k]=0,g[k]=0;else if(j>=k&&0!==k)b[k]=0,c[k]=1,p=0,q=0,r=0,d[k]=0,e[k]=0,f[k]=0,g[k]=0;else if(k%(j+1)===0)b[k]=0,c[k]=3,p=0,q=0,r=0,d[k]=0,e[k]=0,f[k]=0,g[k]=0;else{p=g[x],q=g[y],r=g[z];for(var A in n)h===n[A]&&(v=parseInt(A,10)),i===n[A]&&(w=parseInt(A,10));var B=n.length,C=B*v+w;o=parseInt(a[C],10),b[k]=o,u=r+o,s=p+l,t=q+m,d[k]=u,e[k]=s,f[k]=t;var D=Math.max(s,u,t);g[k]=D,D==t&&D!=s&&D!=u?c[k]=1:D!=t&&D!=s&&D==u?c[k]=2:D!=t&&D==s&&D!=u?c[k]=3:D==t&&D==s&&D!=u?c[k]=4:D==t&&D!=s&&D==u?c[k]=5:D!=t&&D==s&&D==u?c[k]=6:D==t&&D==s&&D==u&&(c[k]=7),0>D&&(g[k]=0)}},smithwaterman.prototype.alignment=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=0,p=[],q=[];for(h in c)k=c[h],o=Math.max(o,k);for(i in c)c[i]===o&&p.push(i);for(j in p){var r="",s="";deppos=p[j];for(var t=[],u=[];;){var v=deppos%(f+1)-1,w=Math.floor(deppos/(f+1)-1);if(listalign.push(deppos),0===c[deppos]){listalign.pop();break}if(1===a[deppos])deppos-=1,t.unshift(String(d[v])),u.unshift("-");else if(2===a[deppos])deppos-=g+2,t.unshift(String(d[v])),u.unshift(String(e[w]));else if(3===a[deppos])deppos-=g+1,t.unshift("-"),u.unshift(String(e[w]));else if(4===a[deppos])l=c[deppos-1],m=c[deppos-(g+1)],l>m?(deppos-=1,t.unshift(String(d[v])),u.unshift("-")):(deppos-=g+1,t.unshift("-"),u.unshift(String(e[w])));else if(5===a[deppos])l=c[deppos-1],m=c[deppos-(g+2)],l>m?(deppos-=1,t.unshift(String(d[v])),u.unshift("-")):(deppos-=g+2,t.unshift(String(d[v])),u.unshift(String(e[w])));else if(6===a[deppos])l=c[deppos-(g+1)],m=c[deppos-(g+2)],l>m?(deppos-=g+1,t.unshift("-"),u.unshift(String(e[w]))):(deppos-=g+2,t.unshift(String(d[v])),u.unshift(String(e[w])));else if(7===a[deppos]){l=c[deppos-1],m=c[deppos-(g+2)],n=c[deppos-(g+1)];var x=Math.max(l,m,n);x===m?(deppos-=g+2,t.unshift(String(d[v])),u.unshift(String(e[w]))):x===n?(deppos-=g+1,t.unshift("-"),u.unshift(String(e[w]))):(deppos-=1,t.unshift(String(d[v])),u.unshift("-"))}}for(var y in t)r=r.concat(t[y]);for(var z in u)s=s.concat(u[z]);q.push(r),q.push(s)}return q};var nbValuesToDisplay=0,nbValuesAlignToDisplay=0,nbAlign,title;